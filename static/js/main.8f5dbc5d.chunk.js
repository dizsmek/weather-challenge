(this["webpackJsonpweather-challenge"]=this["webpackJsonpweather-challenge"]||[]).push([[0],{196:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),c=a.n(i),o=(a(91),a(89)),s=a(198),u=[{name:"Cairns",id:2172797},{name:"Los Angeles",id:1705545},{name:"Linjiang",id:1796228},{name:"East London",id:1006984},{name:"Shanggu",id:1796247}],d=a(23),p=function(e){var t=e.weatherData,a=e.citiesToShow.map((function(e){return u[e].name})),n=t.filter((function(e){return a.includes(e.cityName)}));return Object(d.jsx)(s.a,{dataSource:n,columns:[{title:"City Name",dataIndex:"cityName",key:"cityName"},{title:"Temperature",dataIndex:"temp",key:"temp"},{title:"Min. Temperature",dataIndex:"temp_min",key:"temp_min"},{title:"Uploaded at",dataIndex:"time",key:"time"}],rowKey:"id",pagination:!1})},m=a(57),l=m.a.Option,h=function(e){var t=e.citiesToShow,a=e.updateCitiesToShow,n=u.map((function(e){return e.name}));return Object(d.jsx)(m.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select a city",defaultValue:t,onChange:function(e){a(e)},children:n.map((function(e,t){return Object(d.jsx)(l,{children:e},t)}))})},f=a(88),j=a.n(f),b=a(111),x=a(112),w=a(45),y=function(e){var t=e.updateWeatherData,a=function(){var e=Object(x.a)(j.a.mark((function e(){var a,n,r,i,c,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=function(e,t){var a=e.id,n=e.main;return{id:a,cityName:t,temp:n.temp,temp_min:n.temp_min,time:(new Date).toLocaleTimeString()}},n=[],r=Object(b.a)(u),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=17;break}return c=i.value,e.next=10,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(c.id,"&appid=").concat("b944703ce65ed6cf6b71dd3a2873dd9d"));case 10:return o=e.sent,e.next=13,o.json();case 13:s=e.sent,n.push(a(s,c.name));case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:t(n),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),console.error(e.t1);case 31:case"end":return e.stop()}}),e,null,[[0,28],[4,19,22,25]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a()}),[]),Object(d.jsx)(w.a,{type:"primary",onClick:a,children:"Refresh"})},O=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Array.from(Array(u.length).keys()).map((function(e,t){return String(t)})),c=Object(n.useState)(i),s=Object(o.a)(c,2),m=s[0],l=s[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{citiesToShow:m,updateCitiesToShow:function(e){l(e)}}),Object(d.jsx)(p,{citiesToShow:m,weatherData:a}),Object(d.jsx)(y,{updateWeatherData:function(e){r(e)}})]})};c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))},91:function(e,t,a){}},[[196,1,2]]]);
//# sourceMappingURL=main.8f5dbc5d.chunk.js.map